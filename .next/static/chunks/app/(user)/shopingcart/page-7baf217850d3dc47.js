(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53],{5650:function(e,t,s){Promise.resolve().then(s.bind(s,4467))},4467:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(7437),r=s(7677),l=s(2537),c=s(2173),n=s(2265),i=e=>{let{item:t}=e,{increaseQuantity:s,decreaseQuantity:l,removeItemFromCart:c}=(0,r.Z)();return(0,a.jsxs)("tr",{className:"table_row",children:[(0,a.jsx)("td",{className:"column-1",children:(0,a.jsx)("div",{onClick:()=>c(t.id),className:"how-itemcart1",children:(0,a.jsx)("img",{src:null==t?void 0:t.images[0].url,alt:"IMG"})})}),(0,a.jsx)("td",{className:"column-2",children:t.title}),(0,a.jsxs)("td",{className:"column-3",children:["₹",t.discountPrice.toFixed()]}),(0,a.jsx)("td",{className:"column-4",children:(0,a.jsxs)("div",{className:"wrap-num-product flex-w m-l-auto m-r-0",children:[(0,a.jsx)("div",{onClick:()=>l(t.id),className:"btn-num-product-down cl8 hov-btn3 trans-04 flex-c-m",children:(0,a.jsx)("i",{className:"fs-16 zmdi zmdi-minus"})}),(0,a.jsx)("input",{className:"mtext-104 cl3 txt-center num-product",type:"number",name:"num-product1",onChange:()=>!0,value:t.quantity}),(0,a.jsx)("div",{onClick:()=>s(t.id),className:"btn-num-product-up cl8 hov-btn3 trans-04 flex-c-m",children:(0,a.jsx)("i",{className:"fs-16 zmdi zmdi-plus"})})]})}),(0,a.jsxs)("td",{className:"column-5",children:["₹ ",(t.discountPrice*t.quantity).toFixed(2)]})]})},o=s(6492),d=s(1396),m=s.n(d),u=s(4153),p=()=>{let[e,t]=(0,n.useState)();(0,n.useEffect)(()=>{t(JSON.parse((0,u.getCookie)("user")))},[]);let s=(0,r.Z)(e=>e.cartItems),{clearCart:d}=(0,r.Z)(),p=(0,l.TA)({initialValues:{street:"",city:"",state:"",postalCode:"",country:"India"},onSubmit:(t,a)=>{let{resetForm:r}=a;if(!s.length>0){alert("Cart is Empty.."),r();return}let l=s.map(e=>({productId:e.id,quantity:e.quantity,total:(e.discountPrice*e.quantity).toFixed(2),title:e.title,desc:e.desc,price:e.price,discount:e.discount,category:e.category,subCategory:e.subCategory,color:e.color,stock:e.stock,images:e.images[0].url})),n=l.reduce((e,t)=>e+parseFloat(t.total),0),i={userId:e,total:n.toFixed(2),paymentInfo:{amount:n,mode:"COD"},products:l,address:{street:t.street,city:t.city,state:t.state,postalCode:t.postalCode,country:t.country}};c.Z.post("/api/order",i).then(function(e){alert("Order Created Succesfully"),d(),location.href="/order"}).catch(function(e){alert("Order Not Created")})}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"container lg:mt-20",children:(0,a.jsxs)("div",{className:"bread-crumb flex-w p-l-25 p-r-15 p-t-30 p-lr-0-lg",children:[(0,a.jsxs)("a",{href:"/",className:"stext-109 cl8 hov-cl1 trans-04",children:["Home",(0,a.jsx)("i",{className:"fa fa-angle-right m-l-9 m-r-10","aria-hidden":"true"})]}),(0,a.jsx)("span",{className:"stext-109 cl4",children:"Shoping Cart"})]})}),(0,a.jsx)("div",{className:"bg0 p-t-75 p-b-85",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-10 col-xl-7 m-lr-auto m-b-50",children:(0,a.jsxs)("div",{className:"m-l-25 m-r--38 m-lr-0-xl",children:[(0,a.jsx)("div",{className:"wrap-table-shopping-cart",children:(0,a.jsxs)("table",{className:"table-shopping-cart",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"table_head",children:[(0,a.jsx)("th",{className:"column-1",children:"Product"}),(0,a.jsx)("th",{className:"column-2"}),(0,a.jsx)("th",{className:"column-3",children:"Price"}),(0,a.jsx)("th",{className:"column-4",children:"Quantity"}),(0,a.jsx)("th",{className:"column-5",children:"Total"})]})}),(0,a.jsx)("tbody",{children:s.map((e,t)=>(0,a.jsx)(i,{item:e},t))})]})}),(0,a.jsx)("div",{className:"flex-w flex-sb-m bor15 p-t-18 p-b-15 p-lr-40 p-lr-15-sm",children:(0,a.jsxs)("div",{className:"flex-w flex-m m-r-20 m-tb-5",children:[(0,a.jsx)("input",{className:"stext-104 cl2 plh4 size-117 bor13 p-lr-20 m-r-10 m-tb-5",type:"text",name:"coupon",placeholder:"Coupon Code"}),(0,a.jsx)("div",{className:"flex-c-m stext-101 cl2 size-118 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer m-tb-5",children:"Apply coupon"})]})})]})}),(0,a.jsx)("div",{className:"col-sm-10 col-lg-7 col-xl-5 m-lr-auto m-b-50",children:(0,a.jsxs)("div",{className:"bor10 p-lr-40 p-t-30 p-b-40 m-l-63 m-r-40 m-lr-0-xl p-lr-15-sm",children:[(0,a.jsx)("h4",{className:"mtext-109 cl2 p-b-30",children:"Cart Totals"}),(0,a.jsxs)("div",{className:"flex-w flex-t bor12 p-b-13",children:[(0,a.jsx)("div",{className:"size-208",children:(0,a.jsx)("span",{className:"mtext-101 cl2",children:"Total:"})}),(0,a.jsx)("div",{className:"size-209 p-t-1",children:(0,a.jsxs)("span",{className:"mtext-110 cl2",children:["₹",(0,o.calculateTotalCost)(s).toFixed(2)]})})]}),e?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"pt-4 pb-2",children:[" ",(0,a.jsx)("span",{className:"stext-110 cl2",children:"Shipping Address:"})]}),(0,a.jsxs)("form",{className:"pb-8",onSubmit:p.handleSubmit,method:"POST",children:[(0,a.jsxs)("div",{className:"grid sm:grid-cols-12 gap-2",children:[(0,a.jsx)("div",{className:"col-span-12 ",children:(0,a.jsx)("input",{id:"af-account-email",type:"text",className:"py-2 px-3 pe-11 block w-full border border-gray-800 shadow-md text-md rounded-lg focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600",placeholder:"Enter Street",name:"street",onChange:p.handleChange,value:p.values.street,required:!0})}),(0,a.jsx)("div",{className:"col-span-12",children:(0,a.jsx)("input",{id:"af-account-email",type:"text",className:"py-2 px-3 pe-11 block w-full border border-gray-800 shadow-md text-md rounded-lg focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600",placeholder:"Enter City",name:"city",onChange:p.handleChange,value:p.values.city,required:!0})}),(0,a.jsx)("div",{className:"col-span-12",children:(0,a.jsx)("input",{id:"af-account-email",type:"text",className:"py-2 px-3 pe-11 block w-full border border-gray-800 shadow-md text-md rounded-lg focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600",placeholder:"Enter State",name:"state",onChange:p.handleChange,value:p.values.state,required:!0})}),(0,a.jsx)("div",{className:"col-span-12",children:(0,a.jsx)("input",{id:"af-account-email",type:"text",className:"py-2 px-3 pe-11 block w-full border border-gray-800 shadow-md text-md rounded-lg focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600",placeholder:"Enter Pin Code",name:"postalCode",onChange:p.handleChange,value:p.values.postalCode,required:!0})})]}),(0,a.jsx)("button",{type:"submit",className:"mt-4 flex-c-m stext-101 cl0 size-116 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer",children:"Proceed to Checkout"})]})]}):(0,a.jsx)(m(),{href:"/login",className:"flex-c-m stext-101 cl0 size-116 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer",children:"Login To Proceed"})]})})]})})})]})}},4153:function(e){"use strict";e.exports={setCookie:function(e,t){let s=new Date;s.setTime(s.getTime()+864e5);let a="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t),";expires=").concat(s.toUTCString(),";path=/");document.cookie=a},getCookie:function(e){let t="".concat(encodeURIComponent(e),"="),s=document.cookie.split(";");for(let e=0;e<s.length;e++){let a=s[e].trim();if(0===a.indexOf(t))return decodeURIComponent(a.substring(t.length,a.length))}return null},deleteCookie:function(e){let t=new Date(0),s="".concat(encodeURIComponent(e),"=;expires=").concat(t.toUTCString(),";path=/");document.cookie=s}}},6492:function(e){"use strict";e.exports={getOfferPrice:(e,t)=>e<0||t<0||t>100?e:e-e*t/100,calculateTotalCost:e=>e.reduce((e,t)=>e+t.discountPrice*t.quantity,0)}},7677:function(e,t,s){"use strict";var a=s(4660),r=s(4810);let l=(0,a.Ue)((0,r.tJ)((e,t)=>({cartItems:[],addItemToCart:s=>{let a=t().cartItems.find(e=>e.id===s.id);a?("number"==typeof a.quantity&&a.quantity++,e({cartItems:[...t().cartItems]})):e({cartItems:[...t().cartItems,{...s}]})},increaseQuantity:s=>{let a=t().cartItems.find(e=>e.id===s);a&&("number"==typeof a.quantity&&a.stock>a.quantity&&a.quantity++,e({cartItems:[...t().cartItems]}))},decreaseQuantity:s=>{let a=t().cartItems.find(e=>e.id===s);if(a&&"number"==typeof a.quantity){if(1===a.quantity){let a=t().cartItems.filter(e=>e.id!==s);e({cartItems:a})}else a.quantity--,e({cartItems:[...t().cartItems]})}},removeItemFromCart:s=>{let a=t().cartItems.find(e=>e.id===s);if(a&&"number"==typeof a.quantity){let a=t().cartItems.filter(e=>e.id!==s);e({cartItems:a})}},clearCart:()=>{e({cartItems:[]})}}),{name:"cart-items"}));t.Z=l}},function(e){e.O(0,[580,396,537,166,971,472,744],function(){return e(e.s=5650)}),_N_E=e.O()}]);